# 📊 Визуальная схема админ-панели BEAUTY ATELIER

## 🗺️ Карта сайта администратора

```
/admin
├── Главная страница (информационная)
│
├── /admin/login ............................ СТРАНИЦА ВХОДА
│   ├── Форма входа (username/password)
│   ├── Проверка учетных данных
│   └── Перенаправление на /admin/dashboard
│
└── /admin/dashboard (🔐 ЗАЩИЩЕНО)
    ├── Главная панель управления
    │   ├── Статистика (4 карточки)
    │   │   ├── 📊 Посещения
    │   │   ├── 👥 Клиенты
    │   │   ├── 📝 Контент
    │   │   └── ⚙️ Статус системы
    │   │
    │   ├── История активности
    │   │   ├── Обновлены портфолио
    │   │   ├── Добавлены фото
    │   │   ├── Изменены настройки
    │   │   └── Экспорт статистики
    │   │
    │   └── Быстрые ссылки
    │       ├── 📝 Управлять контентом
    │       ├── ⚙️ Настройки сайта
    │       └── 🔗 Перейти на сайт
    │
    ├── /admin/dashboard/content ............ УПРАВЛЕНИЕ КОНТЕНТОМ
    │   ├── Навигация + кнопка "Добавить контент"
    │   ├── Таблица контента
    │   │   ├── Название
    │   │   ├── Тип (Portfolio/Reviews/Experts)
    │   │   ├── Статус (Published/Draft)
    │   │   ├── Дата
    │   │   └── Действия (✏️ Edit / 🗑️ Delete)
    │   │
    │   └── Примеры контента:
    │       ├── "Свадьба Алины К." - Portfolio - Published
    │       ├── "Гала вечер" - Portfolio - Published
    │       ├── "Новый отзыв" - Reviews - Draft
    │       └── "Профиль эксперта" - Experts - Published
    │
    └── /admin/dashboard/settings .......... НАСТРОЙКИ САЙТА
        ├── Основные параметры
        │   ├── 📝 Название сайта: "BEAUTY ATELIER"
        │   ├── 📄 Описание: "Премиальные образы..."
        │   ├── 📧 Email: "info@beauty-atelier.com"
        │   └── 📞 Телефон: "+998 90-688-22-66"
        │
        ├── Социальные сети
        │   ├── 💬 Telegram: "@beauty_atelier"
        │   ├── 🔗 URL Telegram: "https://t.me/beauty_atelier"
        │   └── 📸 Instagram: "@dar_sofy"
        │
        └── SEO
            ├── 🔍 Title: "BEAUTY ATELIER — Premium Bridal & Event Looks"
            ├── 📋 Description: "Макияж и причёски от топ-мастеров..."
            └── ✓ Счетчик символов
```

---

## 🎨 Структура компонентов

```
┌─────────────────────────────────────────────────────────────┐
│                        АДМИН ПАНЕЛЬ                          │
├─────────────────────────────────────────────────────────────┤
│                      AdminNav (Навигация)                    │
│  [BA Logo] [Admin] | [Dashboard] [Content] [Settings] [Exit] │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│              <ProtectedRoute> (Защита маршрутов)             │
│                                                               │
│              Содержимое страницы (Content)                   │
│                                                               │
│  ┌─────────────────┬─────────────────┬─────────────────┐    │
│  │   Карточка 1    │   Карточка 2    │   Карточка 3    │    │
│  │    Статистика   │    Статистика   │    Статистика   │    │
│  └─────────────────┴─────────────────┴─────────────────┘    │
│                                                               │
│  ┌───────────────────────────────────────────────────────┐  │
│  │              История / Таблица / Форма               │  │
│  └───────────────────────────────────────────────────────┘  │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

---

## 🔐 Поток аутентификации

```
Пользователь
    │
    ▼
┌──────────────────────┐
│   Открыть /admin     │
└──────────────────────┘
    │
    ▼
┌──────────────────────────────────┐
│  Проверка аутентификации?        │
│  (isAuthenticated())             │
└──────────────────────────────────┘
    │
    ├─── ❌ НЕТ ───────────────────┐
    │                              │
    │                      ┌──────────────────┐
    │                      │ /admin/login     │
    │                      │ Форма входа      │
    │                      └──────────────────┘
    │                              │
    │                      ┌──────────────────┐
    │                      │ API: /api/admin/ │
    │                      │ Проверка данных  │
    │                      └──────────────────┘
    │                              │
    │                      ┌──────────────────┐
    │                      │ setAdminSession  │
    │                      │ ('authenticated')│
    │                      └──────────────────┘
    │                              │
    │                              ▼
    │                      Редирект на dashboard
    │
    └─── ✅ ДА ─────────────────┐
                                  │
                        ┌─────────────────┐
                        │ Загрузить страну │
                        │ (Dashboard)     │
                        └─────────────────┘
                                  │
                                  ▼
                        ┌─────────────────┐
                        │ Показать контент│
                        └─────────────────┘
```

---

## 📱 Макет страниц

### Страница входа `/admin/login`

```
┌─────────────────────────────────────────────────────────────┐
│                                                               │
│                     BEAUTY ATELIER                           │
│                  Панель администратора                       │
│                                                               │
│  ┌──────────────────────────────────────────────────────┐  │
│  │                    Форма входа                       │  │
│  │                                                      │  │
│  │  Имя пользователя:                                  │  │
│  │  [________________]                                 │  │
│  │                                                      │  │
│  │  Пароль:                                            │  │
│  │  [________________]                                 │  │
│  │                                                      │  │
│  │  [     ВОЙТИ      ]                                 │  │
│  │                                                      │  │
│  │  Тестовые учетные данные:                           │  │
│  │  Имя: admin                                         │  │
│  │  Пароль: admin123                                   │  │
│  └──────────────────────────────────────────────────────┘  │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

### Панель управления `/admin/dashboard`

```
┌─────────────────────────────────────────────────────────────┐
│ BA | BEAUTY ATELIER Admin │ Dashboard │ Content │ Settings │ │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  Панель администратора                                      │
│  Добро пожаловать в систему управления BEAUTY ATELIER       │
│                                                               │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐       │
│  │ 📊 Посещений │  │ 👥 Клиентов  │  │ 📝 Контента  │       │
│  │    1,234     │  │      89      │  │     24       │       │
│  │ +12% месяц   │  │ +5% месяц    │  │ 3 новых      │       │
│  └──────────────┘  └──────────────┘  └──────────────┘       │
│                                                               │
│  ┌─────────────────────────────────┐  ┌──────────────────┐  │
│  │  Последняя активность           │  │ Быстрые ссылки   │  │
│  │                                 │  │                  │  │
│  │ • Обновлен портфолио  2 ч.н.    │  │ [Управл. контент]│  │
│  │ • Добавлены фото      5 ч.н.    │  │ [Настройки сайта]│  │
│  │ • Обновлены настройки  1 д.н.   │  │ [Перейти на сайт]│  │
│  │ • Экспорт статистики   3 д.н.   │  │                  │  │
│  └─────────────────────────────────┘  │                  │  │
│                                        │ ⓘ Справка:       │  │
│                                        │ Для смены пароля │  │
│                                        │ используйте .env  │  │
│                                        └──────────────────┘  │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

### Управление контентом `/admin/dashboard/content`

```
┌─────────────────────────────────────────────────────────────┐
│ BA | BEAUTY ATELIER Admin │ Dashboard │ Content │ Settings │ │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│ Управление контентом                        [+ Добавить]    │
│ Добавляйте, редактируйте и управляйте                       │
│                                                               │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ Название    │ Тип      │ Статус       │ Дата │ Действ. │ │
│ ├─────────────────────────────────────────────────────────┤ │
│ │ Свадьба ... │ Portfolio│ Опубликовано │ ... │ ✏️  🗑️  │ │
│ │ Гала вечер  │ Portfolio│ Опубликовано │ ... │ ✏️  🗑️  │ │
│ │ Новый отзыв │ Reviews  │ Черновик     │ ... │ ✏️  🗑️  │ │
│ │ Профиль ... │ Experts  │ Опубликовано │ ... │ ✏️  🗑️  │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

### Настройки сайта `/admin/dashboard/settings`

```
┌─────────────────────────────────────────────────────────────┐
│ BA | BEAUTY ATELIER Admin │ Dashboard │ Content │ Settings │ │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│ Настройки сайта                           [СОХРАНИТЬ]      │
│ Управляйте основными параметрами                            │
│                                                               │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ ОСНОВНЫЕ ПАРАМЕТРЫ                                      │ │
│ ├─────────────────────────────────────────────────────────┤ │
│ │ Название сайта: [BEAUTY ATELIER]                        │ │
│ │ Описание: [Премиальные образы...]                       │ │
│ │ Email: [info@beauty-atelier.com]                        │ │
│ │ Телефон: [+998 90-688-22-66]                            │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                               │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ СОЦИАЛЬНЫЕ СЕТИ                                         │ │
│ ├─────────────────────────────────────────────────────────┤ │
│ │ Telegram: [@beauty_atelier]                             │ │
│ │ URL: [https://t.me/beauty_atelier]                      │ │
│ │ Instagram: [@dar_sofy]                                  │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                               │
│ ┌─────────────────────────────────────────────────────────┐ │
│ │ SEO                                                     │ │
│ ├─────────────────────────────────────────────────────────┤ │
│ │ Title: [BEAUTY ATELIER — Premium...]  60/60 символов   │ │
│ │ Description: [Макияж и причёски...]  160/160 символов │ │
│ └─────────────────────────────────────────────────────────┘ │
│                                                               │
│ [СОХРАНИТЬ НАСТРОЙКИ]                                       │
│                                                               │
└─────────────────────────────────────────────────────────────┘
```

---

## 📊 Диаграмма состояния компонентов

```
Пользователь открывает браузер
            │
            ▼
┌─────────────────────────────────────────────┐
│         AdminNav Component                  │
│  (видна на всех защищенных страницах)      │
│  - Логотип и навигация                      │
│  - Кнопка выхода                            │
│  - Отзывчивый дизайн (мобиль + десктоп)   │
└─────────────────────────────────────────────┘
            │
            ▼
┌─────────────────────────────────────────────┐
│      ProtectedRoute Component               │
│  (защищает все страницы dashboard)          │
│  - Проверяет аутентификацию                 │
│  - Показывает loader при проверке           │
│  - Перенаправляет на login если не авторизован
└─────────────────────────────────────────────┘
            │
            ▼
┌─────────────────────────────────────────────┐
│      Основное содержимое страницы           │
│  - Dashboard: Статистика, активность        │
│  - Content: Таблица контента                │
│  - Settings: Форма с настройками            │
└─────────────────────────────────────────────┘
```

---

## 🔗 Ссылки между страницами

```
/admin ────────────────────────► /admin/login (если не авторизован)
         │                               │
         └─── (авторизация) ────────────┘
                     │
                     ▼
         /admin/dashboard
              │
              ├──► /admin/dashboard/content
              │
              ├──► /admin/dashboard/settings
              │
              └──► (выход) ──► /admin/login
```

---

## 💾 Поток данных

```
Пользователь вводит учетные данные
              │
              ▼
        Проверка в auth.ts
     (validateCredentials)
              │
              ├─── ❌ Неверные ──► Ошибка
              │
              └─── ✅ Верные
                      │
                      ▼
              setAdminSession()
            (сохранение в localStorage)
                      │
                      ▼
            Редирект на /admin/dashboard
                      │
                      ▼
           ProtectedRoute проверяет
            getAdminSession()
                      │
                      ├─── ✅ Есть сессия ──► Показать контент
                      │
                      └─── ❌ Нет сессии ──► Редирект на login
```

---

**Версия:** 1.0.0  
**Дата:** January 28, 2026
